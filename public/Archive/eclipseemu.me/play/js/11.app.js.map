{"version":3,"sources":["webpack:///./src/pages/game-hub/game-hub.f7.html"],"names":["e","data","console","log","this","$route","context","methods","addFeaturedRepo","evt","element","target","dataset","repo","parentElement","addRepo","addRepoPrompt","_this","$app","dialog","prompt","url","patchXSS","preloader","show","urlParser","URL","fetch","hostname","encodeURI","replace","then","res","update","json","hide","code","alert","message","reposStorage","localStorage","getItem","repos","JSON","parse","indexOf","push","storage","set","stringify","toast","create","text","info","name","closeTimeout","open","updateState","catch","err","error","removeRepo","forEach","repoString","i","splice","repoMenu","preventDefault","index","actions","buttons","label","onClick","$router","navigate","encodeURIComponent","color","filter","val","bold","list","$setState","openDropbox","cloud","dropbox","launch","id","render","featured","map","item","link","icon","join","length","blocked","decodeURIComponent","logo","maintainer","styleScoped"],"mappings":"0FAAA,IAAAA,GAAe,WACbC,KADa,WAGX,OADAC,QAAQC,IAAIC,KAAKC,OAAOC,SACjBF,KAAKC,OAAOC,SAErBC,QAAS,CACPC,gBADO,SACSC,GACd,IAAIC,EAAUD,EAAIE,OACU,MAAxBD,EAAQE,QAAQC,OAClBH,EAAUA,EAAQI,eAEpBV,KAAKW,QAAQL,EAAQE,QAAQC,OAE/BG,cARO,WASL,IAAIC,EAAQb,KACZA,KAAKc,KAAKC,OAAOC,OAAO,yBAAyB,SAAAC,GAC/CJ,EAAMF,QAAQM,OAGlBN,QAdO,SAcCM,GAAK,WACPJ,EAAQb,KACZF,QAAQC,IAAIkB,GACZA,EAAMC,SAASD,GACfjB,KAAKc,KAAKK,UAAUC,OACpB,IAAIC,EAAY,IAAIC,IAAIL,GACxBM,MAA4B,aAAtBF,EAAUG,SAA0BP,EAApC,0DAA8FQ,UAAUR,EAAIS,QAAQ,UAAW,eAAiBC,MAAK,SAAAC,GAAG,OAAI,EAAKd,KAAKX,QAAQM,KAAKoB,OAAOD,EAAIE,WAASH,MAAK,SAAAG,GAGhN,GAFAA,EAAOZ,SAASY,GAChBjB,EAAMC,KAAKK,UAAUY,OACJ,KAAbD,EAAKE,KACPnB,EAAMC,KAAKC,OAAOkB,MAAMH,EAAKI,aACxB,CACL,IAAIC,EAAeC,aAAaC,QAAb,SACfC,EAAQ,GACQ,MAAhBH,IACFG,EAAQC,KAAKC,MAAML,KAEM,GAAvBG,EAAMG,QAAQxB,IAChBqB,EAAMI,KAAKzB,GACX,EAAKH,KAAKX,QAAQwC,QAAQC,IAA1B,QAAuCL,KAAKM,UAAUP,IACtDzB,EAAMC,KAAKgC,MAAMC,OAAO,CACtBC,KAAM,IAAF,OAAOnC,EAAMC,KAAKX,QAAQM,KAAKoB,OAAOC,GAAMmB,KAAKC,KAAjD,8BACJC,aAAc,MACbC,OACHvC,EAAMwC,eAENxC,EAAMC,KAAKC,OAAOkB,MAAM,yCAG3BqB,OAAM,SAAAC,GACPzD,QAAQ0D,MAAMD,GACd1C,EAAMC,KAAKK,UAAUY,OACrBlB,EAAMC,KAAKC,OAAOkB,MAAM,wDAG5BwB,WAjDO,SAiDIpD,GACT,IAAI8B,EAAeC,aAAaC,QAAb,SACfC,EAAQ,GACQ,MAAhBH,IACFG,EAAQC,KAAKC,MAAML,IAErB,IAAItB,EAAQb,KACZsC,EAAMoB,SAAQ,SAACC,EAAYC,GACrBD,EAAWjC,QAAQ,UAAW,aAAerB,EAAIE,OAAOC,QAAQC,OAClE6B,EAAMuB,OAAOD,EAAG,GAChB/C,EAAMC,KAAKX,QAAQwC,QAAQC,IAA3B,QAAwCL,KAAKM,UAAUP,SAI7DwB,SA/DO,SA+DEzD,GAAK,WACZA,EAAI0D,iBACJ,IAAIzD,EAAUD,EAAIE,OACW,MAAzBD,EAAQE,QAAQwD,QAClB1D,EAAUA,EAAQI,eAES,MAAzBJ,EAAQE,QAAQwD,QAClB1D,EAAUA,EAAQI,eAES,MAAzBJ,EAAQE,QAAQwD,QAClB1D,EAAUA,EAAQI,eAEpB,IAAID,EAAOS,SAASZ,EAAQE,SAC5BR,KAAKc,KAAKmD,QAAQlB,OAAO,CACvBmB,QAAS,CACP,CACE,CACElB,KAAMvC,EAAKyC,KACXiB,OAAMA,GAEK,gBAAb1D,EAAKyC,MAAuC,gBAAbzC,EAAKyC,KAAyB,CAC3DF,KAAM,OACNoB,QAAS,WACP,EAAKC,QAAQC,SAAb,yBAAyCC,mBAAmB9D,EAAKQ,KAAjE,QAEA,KACJ,CACE+B,KAAM,SACNwB,MAAO,MACPJ,QAAS,WACP,EAAKX,WAAW,CAAElD,OAAQ,CAAEC,QAAS,CAAEC,KAAMA,EAAKQ,QAClD,EAAKoC,iBAGToB,QAAO,SAAUC,GACjB,GAAIA,EACF,OAAOA,KAEX,CAAC,CACG1B,KAAM,SACN2B,MAAKA,OAGVvB,QAELC,YA5GO,WA4GO,WACZrD,KAAKc,KAAKK,UAAUC,OACpBpB,KAAKc,KAAKX,QAAQM,KAAKmE,OAAOjD,MAAK,SAAAzB,GACjC,EAAKY,KAAKK,UAAUY,OACpB,EAAK8C,UAAU3E,OAGnB4E,YAnHO,WAoHL9E,KAAKc,KAAKX,QAAQ4E,MAAMC,QAAQC,WAGpCC,GAAI,aACJC,OA7Ha,WA8HX,MAAM,smBAAN,OAmBGnF,KAAKoF,SAASC,KAAI,SAAAC,GACnB,MAAM,6DAAN,OACiDA,EAAKC,KADtD,kEAE+BD,EAAKE,KAFpC,8BAGMF,EAAKpC,KAHX,oCAMCuC,KAAK,IA1BR,iWAkCuB,GAArBzF,KAAKsC,MAAMoD,OAAX,qOAQE1F,KAAKsC,MAAM+C,KAAI,SAAC5E,EAAMuD,GACxB,OAAyB,GAArBvD,EAAKwC,KAAK0C,SAAuC,GAAnBlF,EAAKwC,KAAKO,MAC1C,mGAE2Ce,mBAAmB9D,EAAKwC,KAAKhC,KAFxE,yIAIaR,EAAKwC,KAAKC,KAJvB,yBAI8Cc,EAJ9C,sCAKY4B,mBAAmBnF,EAAKwC,KAAKhC,KALzC,mKAQSR,EAAKwC,KAAK4C,KARnB,wLAYUpF,EAAKwC,KAAKC,KAZpB,+DAa6BzC,EAAKwC,KAAK6C,WAbvC,uOAmBcF,mBAAmBnF,EAAKwC,KAAKhC,KAnB3C,iEAuB8B,GAArBR,EAAKwC,KAAK0C,QACnB,iJAG4CpB,mBAAmB9D,EAAKwC,KAAKhC,KAHzE,sJAKwC+C,EALxC,wCAMa4B,mBAAmBnF,EAAKwC,KAAKhC,KAN1C,uVAcMR,EAAKwC,KAAKhC,IAAIS,QAAQ,0CAA2C,IAdvE,uRAsBckE,mBAAmBnF,EAAKwC,KAAKhC,KAtB3C,iEA0B4B,GAAnBR,EAAKwC,KAAKO,MACnB,gLAGcQ,EAHd,uBAGoC4B,mBAAmBnF,EAAKwC,KAAKhC,KAHjE,uUAWKR,EAAKwC,KAAKhC,IAAIS,QAAQ,0CAA2C,IAXtE,yOAiBckE,mBAAmBnF,EAAKwC,KAAKhC,KAjB3C,2EAsBDwE,KAAK,IAnFN,mDAlCF,iBA6HFM,aAAYA","file":"js/11.app.js","sourcesContent":["export default {\n  data() {\n    console.log(this.$route.context);\n    return this.$route.context;\n  },\n  methods: {\n    addFeaturedRepo(evt) {\n      var element = evt.target;\n      if (element.dataset.repo == null) {\n        element = element.parentElement;\n      }\n      this.addRepo(element.dataset.repo);\n    },\n    addRepoPrompt() {\n      var _this = this;\n      this.$app.dialog.prompt('Enter a URL to a repo', url => {\n        _this.addRepo(url);\n      });\n    },\n    addRepo(url) {\n      var _this = this;\n      console.log(url);\n      url = patchXSS(url);\n      this.$app.preloader.show();\n      var urlParser = new URL(url);\n      fetch(urlParser.hostname == 'localhost' ? url : `https://api.zenithdevs.com/eclipse/download/?dl=${ encodeURI(url.replace('http://', 'https://')) }`).then(res => this.$app.methods.repo.update(res.json())).then(json => {\n        json = patchXSS(json);\n        _this.$app.preloader.hide();\n        if (json.code == 403) {\n          _this.$app.dialog.alert(json.message);\n        } else {\n          var reposStorage = localStorage.getItem(`repos`);\n          var repos = [];\n          if (reposStorage != null) {\n            repos = JSON.parse(reposStorage);\n          }\n          if (repos.indexOf(url) == -1) {\n            repos.push(url);\n            this.$app.methods.storage.set(`repos`, JSON.stringify(repos));\n            _this.$app.toast.create({\n              text: `\"${ _this.$app.methods.repo.update(json).info.name }\" was added to your repos.`,\n              closeTimeout: 2000\n            }).open();\n            _this.updateState();\n          } else {\n            _this.$app.dialog.alert('You already have this repo added.');\n          }\n        }\n      }).catch(err => {\n        console.error(err);\n        _this.$app.preloader.hide();\n        _this.$app.dialog.alert('There was an issue while trying to add that repo');\n      });\n    },\n    removeRepo(evt) {\n      var reposStorage = localStorage.getItem(`repos`);\n      var repos = [];\n      if (reposStorage != null) {\n        repos = JSON.parse(reposStorage);\n      }\n      var _this = this;\n      repos.forEach((repoString, i) => {\n        if (repoString.replace('http://', 'https://') == evt.target.dataset.repo) {\n          repos.splice(i, 1);\n          _this.$app.methods.storage.set(`repos`, JSON.stringify(repos));\n        }\n      });\n    },\n    repoMenu(evt) {\n      evt.preventDefault();\n      var element = evt.target;\n      if (element.dataset.index == null) {\n        element = element.parentElement;\n      }\n      if (element.dataset.index == null) {\n        element = element.parentElement;\n      }\n      if (element.dataset.index == null) {\n        element = element.parentElement;\n      }\n      var repo = patchXSS(element.dataset);\n      this.$app.actions.create({\n        buttons: [\n          [\n            {\n              text: repo.name,\n              label: true\n            },\n            repo.name != 'Unknown Repo' && repo.name != 'Blocked Repo' ? {\n              text: 'View',\n              onClick: () => {\n                this.$router.navigate(`/game-hub/repo/${ encodeURIComponent(repo.url) }/`);\n              }\n            } : null,\n            {\n              text: 'Remove',\n              color: 'red',\n              onClick: () => {\n                this.removeRepo({ target: { dataset: { repo: repo.url } } });\n                this.updateState();\n              }\n            }\n          ].filter(function (val) {\n            if (val)\n              return val;\n          }),\n          [{\n              text: 'Cancel',\n              bold: true\n            }]\n        ]\n      }).open();\n    },\n    updateState() {\n      this.$app.preloader.show();\n      this.$app.methods.repo.list().then(context => {\n        this.$app.preloader.hide();\n        this.$setState(context);\n      });\n    },\n    openDropbox() {\n      this.$app.methods.cloud.dropbox.launch();\n    }\n  },\n  id: 'd62081f8db',\n  render() {\n    return `\n\t<div class=\"page\">\n\t\t<div class=\"navbar\">\n\t\t\t<div class=\"navbar-inner sliding\">\n\t\t\t\t<div class=\"left\">\n\t\t\t\t\t<a href=\"#\" class=\"link back\">\n\t\t\t\t\t\t<i class=\"icon icon-back\"></i>\n\t\t\t\t\t\t<span class=\"ios-only\">Back</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"title\">Homebrew</div>\n\t\t\t\t<div class=\"title-large\">\n\t\t\t\t\t<div class=\"title-large-text\">Homebrew</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"page-content\">\n\t\t\t<div class=\"block-title block-title-medium\">Featured</div>\n\t\t\t<div class=\"featured-items-slider\">\n\t\t\t\t${ this.featured.map(item => {\n      return `\n\t\t\t\t<a href=\"#\" @click=\"addFeaturedRepo\" data-repo=\"${ item.link }\" class=\"item\"\n\t\t\t\t\tstyle=\"background-image: url(${ item.icon })\">\n\t\t\t\t\t<h2>${ item.name }</h2>\n\t\t\t\t</a>\n\t\t\t\t`;\n    }).join('') }\n\t\t\t</div>\n\t\t\t<div class=\"block\">\n\t\t\t\t<h2>What happened to repos?</h2>\n\t\t\t\t<div>Custom sources are officially depreciated. We are not responsible for what shows up\n\t\t\t\t\tand will be depreciating this entirely in a future update.</div>\n\t\t\t</div>\n\t\t\t<div class=\"block-title block-title-medium\">Repos</div>\n\t\t\t${ this.repos.length == 0 ? `\n\t\t\t<div class=\"block block-strong\">\n\t\t\t\t<h3>No Repos</h3>\n\t\t\t\t<p>Tap a featured repo above to discover some homebrew games.</p>\n\t\t\t</div>\n\t\t\t` : `\n\t\t\t<div class=\"list\">\n\t\t\t\t<ul>\n\t\t\t\t\t${ this.repos.map((repo, index) => {\n      if (repo.info.blocked == false && repo.info.error == false) {\n        return `\n\t\t\t\t\t<li class=\"swipeout\">\n\t\t\t\t\t\t<a draggable=\"false\" href=\"/game-hub/repo/${ encodeURIComponent(repo.info.url) }/\"\n\t\t\t\t\t\t\t@contextmenu=\"repoMenu\" class=\"repo-item item-link item-content swipeout-content\"\n\t\t\t\t\t\t\tdata-name=\"${ repo.info.name }\" data-index=\"${ index }\"\n\t\t\t\t\t\t\tdata-url=\"${ decodeURIComponent(repo.info.url) }\">\n\t\t\t\t\t\t\t<div class=\"item-media\">\n\t\t\t\t\t\t\t\t<img onerror=\"javascript:this.src='static/img/default-cover.png'\"\n\t\t\t\t\t\t\t\t\tsrc=\"${ repo.info.logo }\" width=\"44px\" style=\"border-radius:44px;\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"item-inner\">\n\t\t\t\t\t\t\t\t<div class=\"item-title\">\n\t\t\t\t\t\t\t\t\t<span>${ repo.info.name }</span>\n\t\t\t\t\t\t\t\t\t<div class=\"item-footer\">${ repo.info.maintainer }</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div class=\"swipeout-actions-right\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"swipeout-delete\" @click=\"removeRepo\"\n\t\t\t\t\t\t\t\tdata-repo=\"${ decodeURIComponent(repo.info.url) }\">Delete</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t`;\n      } else if (repo.info.blocked == true) {\n        return `\n\t\t\t\t\t<li class=\"swipeout\">\n\t\t\t\t\t\t<div class=\"swipeout-content\">\n\t\t\t\t\t\t\t<a draggable=\"false\" href=\"/game-hub/repo/${ encodeURIComponent(repo.info.url) }/\"\n\t\t\t\t\t\t\t\tclass=\"repo-item item-link item-content\" @contextmenu=\"repoMenu\"\n\t\t\t\t\t\t\t\tdata-name=\"Blocked Repo\" data-index=\"${ index }\"\n\t\t\t\t\t\t\t\tdata-url=\"${ decodeURIComponent(repo.info.url) }\">\n\t\t\t\t\t\t\t\t<div class=\"item-media\">\n\t\t\t\t\t\t\t\t\t<img src=\"static/img/default-cover.png\">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"item-inner\">\n\t\t\t\t\t\t\t\t\t<div class=\"item-title\">\n\t\t\t\t\t\t\t\t\t\t<span>Blocked Repo</span>\n\t\t\t\t\t\t\t\t\t\t<div class=\"item-footer\">\n\t\t\t\t\t\t\t\t\t\t\t${ repo.info.url.replace('https://php.eclipseemu.me/dl/dl.php?dl=', '') }\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"swipeout-actions-right\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"swipeout-delete\" @click=\"removeRepo\"\n\t\t\t\t\t\t\t\tdata-repo=\"${ decodeURIComponent(repo.info.url) }\">Delete</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t`;\n      } else if (repo.info.error == true) {\n        return `\n\t\t\t\t\t<li class=\"swipeout\">\n\t\t\t\t\t\t<div class=\"swipeout-content item-content\" @contextmenu=\"repoMenu\" data-name=\"Unknown Repo\"\n\t\t\t\t\t\t\tdata-index=\"${ index }\" data-url=\"${ decodeURIComponent(repo.info.url) }\">\n\t\t\t\t\t\t\t<div class=\"item-media\">\n\t\t\t\t\t\t\t\t<img src=\"static/img/default-cover.png\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"item-inner\">\n\t\t\t\t\t\t\t\t<div class=\"item-title\">\n\t\t\t\t\t\t\t\t\t<span>Unknown Repo</span>\n\t\t\t\t\t\t\t\t\t<div class=\"item-footer\">\n\t\t\t\t\t\t\t\t\t\t${ repo.info.url.replace('https://php.eclipseemu.me/dl/dl.php?dl=', '') }</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"swipeout-actions-right\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"swipeout-delete\" @click=\"removeRepo\"\n\t\t\t\t\t\t\t\tdata-repo=\"${ decodeURIComponent(repo.info.url) }\">Delete</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t`;\n      }\n    }).join('') }\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\t` }\n\t</div>\n`;\n  },\n  styleScoped: false\n};"],"sourceRoot":""}