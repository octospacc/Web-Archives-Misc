{"version":3,"sources":["webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./src/pages/cloud/drive.f7.html"],"names":["c","b","d","e","XMLHttpRequest","open","responseType","onload","a","response","onerror","console","error","send","status","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","window","f","self","global","saveAs","HTMLAnchorElement","prototype","g","h","i","URL","webkitURL","j","createElement","name","download","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","navigator","msSaveOrOpenBlob","autoBom","warn","test","type","Blob","title","body","innerText","HTMLElement","safari","userAgent","FileReader","onloadend","result","replace","readAsDataURL","k","l","module","exports","data","methods","signIn","url","log","hostname","protocol","eclipseemu","dialog","create","json","JSON","stringify","localStorage","blob","Date","getTime","gapi","auth2","getAuthInstance","then","res","isSignedIn","get","toast","text","closeTimeout","signOut","this","$f7","cloud","googleDrive","signout","id","render","$app","getSigninStatus","styleScoped"],"mappings":"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","file":"js/8.app.js","sourcesContent":["(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b),e.responseType=\"blob\",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error(\"could not download file\")},e.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open(\"\",\"_blank\"),e&&(e.document.title=e.document.body.innerText=\"downloading...\"),\"string\"==typeof a)return c(a,b,d);var g=\"application/octet-stream\"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&\"object\"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}});f.saveAs=a.saveAs=a,\"undefined\"!=typeof module&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map","import { saveAs } from 'file-saver';\nexport default {\n  data() {\n  },\n  methods: {\n    signIn() {\n      let url = new URL(location.href);\n      console.log(url);\n      if (url.hostname != 'localhost' && url.protocol != 'https:') {\n        eclipseemu.dialog.create({\n          'title': 'Connection Not Secure',\n          'text': 'You can only use Google Drive on secure connections (HTTPS). Please use Eclipse on https://eclipseemu.me/play/ (note the HTTPS) or reinstall Eclipse if you want to use this feature. <br>Note: You will need to export and import your Eclipse backup to keep your data if you do the latter.',\n          'buttons': [\n            { 'text': 'Dismiss' },\n            {\n              'text': 'Export Backup',\n              'onClick': () => {\n                var json = '{\"notice\":\"Please copy the entirety of this page and create a new file with the extension \\'.eclipse\\'. Open the new file, and paste the copied text inside.  You will only see this page once, the next launch of Eclipse will not show this.\",\"backup_v2\":true,\"eclipse\":' + JSON.stringify(localStorage) + '}';\n                var blob = new Blob([json], { type: 'text/plain;charset=utf-8' });\n                saveAs(blob, 'eclipse_backup_' + new Date().getTime() + '.eclipse');\n              }\n            }\n          ]\n        }).open();\n      } else {\n        gapi.auth2.getAuthInstance().signIn().then(res => {\n          if (gapi.auth2.getAuthInstance().isSignedIn.get() == true) {\n            eclipseemu.toast.create({\n              text: 'Signed into Google Drive. You can now add games from Google Drive.',\n              closeTimeout: 3000\n            }).open();\n          }\n        });\n      }\n    },\n    signOut() {\n      this.$f7.methods.cloud.googleDrive.signout();\n    }\n  },\n  id: '2254b1c8a2',\n  render() {\n    return `\n\t<div class=\"popup\">\n\t\t<div class=\"view\">\n\t\t\t<div class=\"page\">\n\t\t\t\t<div class=\"navbar\">\n\t\t\t\t\t<div class=\"navbar-inner\">\n\t\t\t\t\t\t<div class=\"left\">\n\t\t\t\t\t\t\t<a class=\"link popup-close\">\n\t\t\t\t\t\t\t\t<i class=\"icon f7-icons ios-only\">close</i>\n\t\t\t\t\t\t\t\t<i class=\"icon material-icons md-only\">close</i>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"title\">Google Drive</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page-content\">\n\t\t\t\t\t<div class=\"block\" style=\"text-align: center;\">\n\t\t\t\t\t\t<img src=\"https://www.google.com/drive/static/images/drive/logo-drive.png\"\n\t\t\t\t\t\t\tstyle=\"border-radius: 5px; width: 128px;\">\n\t\t\t\t\t\t<h1>Google Drive</h1>\n\t\t\t\t\t\t<p>Eclipse uses Google Drive to allow you to add games into your Library.</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"list\">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t${ this.$app.methods.cloud.googleDrive.getSigninStatus() == false ? `\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a @click=\"signIn\" class=\"item-link item-content popup-close\">\n\t\t\t\t\t\t\t\t\t<div class=\"item-inner\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"item-title\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Sign In</span>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"item-footer\">To view your games.</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t` : `\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a @click=\"signOut\" class=\"item-link item-content popup-close\">\n\t\t\t\t\t\t\t\t\t<div class=\"item-inner\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"item-title\">\n\t\t\t\t\t\t\t\t\t\t\t<span>Sign Out</span>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"item-footer\">Sign out of Google Drive.</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t` }\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n  },\n  styleScoped: false\n};"],"sourceRoot":""}