{"version":3,"sources":["webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./src/pages/settings/storage.f7.html"],"names":["c","b","d","e","XMLHttpRequest","open","responseType","onload","a","response","onerror","console","error","send","status","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","window","f","self","global","saveAs","HTMLAnchorElement","prototype","g","h","i","URL","webkitURL","j","createElement","name","download","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","navigator","msSaveOrOpenBlob","autoBom","warn","test","type","Blob","title","body","innerText","HTMLElement","safari","userAgent","FileReader","onloadend","result","replace","readAsDataURL","k","l","module","exports","data","this","$route","context","methods","importBackup","$app","backups","import","exportBackup","JSON","stringify","notice","backup_v2","eclipse","localStorage","blob","el","style","display","classList","add","appendChild","click","resetGames","dialog","confirm","setItem","t","toast","create","text","closeTimeout","resetRepos","resetSkins","reload","resetSettings","device","desktop","resetAll","clear","id","render","Math","round","storage","usage","quota","toLowerCase","search","styleScoped"],"mappings":"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","file":"js/24.app.js","sourcesContent":["(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b),e.responseType=\"blob\",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error(\"could not download file\")},e.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open(\"\",\"_blank\"),e&&(e.document.title=e.document.body.innerText=\"downloading...\"),\"string\"==typeof a)return c(a,b,d);var g=\"application/octet-stream\"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&\"object\"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}});f.saveAs=a.saveAs=a,\"undefined\"!=typeof module&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map","import { saveAs } from 'file-saver';\nexport default {\n  data() {\n    return this.$route.context;\n  },\n  methods: {\n    importBackup() {\n      this.$app.methods.backups.import();\n    },\n    exportBackup() {\n      let data = JSON.stringify({\n        notice: 'Please copy the entirety of this page and create a new file with the extension \\'.eclipse\\'. Open the new file, and paste the copied text inside.  You will only see this page once, the next launch of Eclipse will not show this.',\n        backup_v2: true,\n        eclipse: localStorage\n      });\n      let blob = new Blob([data], { type: 'application/json' });\n      const el = document.createElement('a');\n      el.style.display = 'none';\n      el.download = 'backup.eclipse';\n      el.classList.add('external');\n      el.href = URL.createObjectURL(blob);\n      document.body.appendChild(el);\n      el.click();\n    },\n    resetGames() {\n      this.$app.dialog.confirm('Are you sure you want to clear your installed games? This cannot be undone.', () => {\n        localStorage.setItem('games', '[]');\n        this.$app.toast.create({\n          text: 'Installed games have been reset.',\n          closeTimeout: 2000\n        });\n      });\n    },\n    resetRepos() {\n      this.$app.dialog.confirm('Are you sure you want to clear your installed repos? This cannot be undone.', () => {\n        localStorage.setItem('repos', '[]');\n        this.$app.toast.create({\n          text: 'Installed repos have been reset.',\n          closeTimeout: 2000\n        });\n      });\n    },\n    resetSkins() {\n      this.$app.dialog.confirm('Are you sure you want to clear your installed skins? This cannot be undone.', () => {\n        localStorage.setItem('skins', '[\"https://eclipseemu.me/play/json/skins/default.json\"]');\n        localStorage.setItem('currentSkin', '{\"name\":\"Default\",\"logo\":\"https://eclipseemu.me/play/img/icons/icon_mobFull.png\",\"author\":\"Eclipse Team\",\"description\":\"The default theme for Eclipse.\",\"styles\":[[]]}');\n        this.$app.toast.create({\n          text: 'Installed skins have been reset.',\n          closeTimeout: 2000\n        });\n        window.location.reload();\n      });\n    },\n    resetSettings() {\n      this.$app.dialog.confirm('Are you sure you want to clear your settings? This cannot be undone.', () => {\n        localStorage.setItem('audioStatus', 'true');\n        localStorage.setItem('desktopMode', this.$app.device.desktop ? 'true' : 'false');\n        localStorage.setItem('fillScreen', 'false');\n        localStorage.setItem('autoSave', '60000');\n        this.$app.toast.create({\n          text: 'Settings have been reset.',\n          closeTimeout: 2000\n        });\n        window.location.reload();\n      });\n    },\n    resetAll() {\n      this.$app.dialog.confirm('Are you sure you want to reset Eclipse to it\\'s default setttings? This cannot be undone.', () => {\n        localStorage.clear();\n        window.location.reload();\n      });\n    }\n  },\n  id: 'faade4caf8',\n  render() {\n    return `\n<div class=\"page\">\n  <div class=\"navbar\">\n\t<div class=\"navbar-inner sliding\">\n\t  <div class=\"left\">\n\t\t<a href=\"#\" class=\"link back\">\n\t\t  <i class=\"icon icon-back\"></i>\n\t\t  <span class=\"ios-only\">Back</span>\n\t\t</a>\n\t  </div>\n\t  <div class=\"title\">Storage</div>\n\t  <div class=\"title-large\">\n\t\t<div class=\"title-large-text\">Storage</div>\n\t  </div>\n\t</div>\n  </div>\n  <div class=\"page-content\">\n\t<div class=\"block-title block-title-medium\">Storage Usage</div>\n\t<div class=\"block block-strong\">\n\t  <center>\n\t\t<div\n\t\t  class=\"gauge gauge-init\"\n\t\t  data-type=\"circle\"\n\t\t  data-value=\"${ Math.round(100 * (this.storage.usage / this.storage.quota * 100)) / 100 / 100 }\"\n\t\t  data-value-text=\"${ Math.round(this.storage.usage / (1024 * 1024) * 100) / 100 } MiB\"\n\t\t  data-value-text-color=\"#ff3b30\"\n\t\t  data-border-color=\"#ff3b30\"\n\t\t  data-label-text=\"of ${ Math.round(this.storage.quota / (1024 * 1024) * 100) / 100 } MiB\"\n\t\t  data-label-text-color=\"#888888\"\n\t\t  data-label-font-weight=\"700\"\n\t\t></div>\n\t  </center>\n\t</div>\n\t<div class=\"block-footer\">\n\t  Eclipse has a limited amount of storage that it can work with, assigned by the web browser. ${ navigator.userAgent.toLowerCase().search(/(chrome|android)/i) == -1 && navigator.userAgent.toLowerCase().search(/safari/i) != -1 ? 'Please note that the given values may not be totally accurate due to limitations in Safari.' : '' }\n\t</div>\n\t<div class=\"list\">\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<a href=\"/settings/storage/saves-for-uploads/\" class=\"item-link item-content\">\n\t\t\t\t\t<div class=\"item-inner\">\n\t\t\t\t\t\t<div class=\"item-title\">Uploaded Games Saves</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t<div class=\"block-footer\">Looking for saves for games in your library? Tap hold or right click on a game to access them.</div>\n\t<div class=\"block-title block-title-medium\">Backups</div>\n\t<div class=\"list\">\n\t  <ul>\n\t\t<li>\n\t\t  <a class=\"item-link list-button\" @click=\"importBackup\">Load Backup</a>\n\t\t</li>\n\t\t<li>\n\t\t  <a class=\"item-link list-button\" @click=\"exportBackup\">Create Backup</a>\n\t\t</li>\n\t  </ul>\n\t</div>\n\t<div class=\"block-title block-title-medium\">Reset</div>\n\t<div class=\"list\">\n\t  <ul>\n\t\t<li>\n\t\t  <a class=\"item-link list-button text-color-red\" @click=\"resetGames\">Reset Games</a>\n\t\t</li>\n\t\t<li>\n\t\t  <a class=\"item-link list-button text-color-red\" @click=\"resetRepos\">Reset Repos</a>\n\t\t</li>\n\t\t<li>\n\t\t  <a class=\"item-link list-button text-color-red\" @click=\"resetSkins\">Reset Skins</a>\n\t\t</li>\n\t\t<li>\n\t\t  <a class=\"item-link list-button text-color-red\" @click=\"resetSettings\">Reset Settings</a>\n\t\t</li>\n\t\t<li>\n\t\t  <a class=\"item-link list-button text-color-red\" @click=\"resetAll\">Reset All Content & Settings</a>\n\t\t</li>\n\t  </ul>\n\t</div>\n  </div>\n</div>\n`;\n  },\n  styleScoped: false\n};"],"sourceRoot":""}