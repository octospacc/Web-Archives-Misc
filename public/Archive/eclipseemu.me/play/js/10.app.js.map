{"version":3,"sources":["webpack:///./src/pages/game/edit.f7.html"],"names":["e","data","this","$route","context","methods","uploadBoxart","document","getElementById","click","handleBoxartUpload","evt","file","files","reader","FileReader","onload","value","target","result","onerror","error","console","log","readAsDataURL","saveData","games","JSON","parse","localStorage","getItem","gameToCheck","game","newSystem","systemSelector","children","i","length","selected","newData","name","link","boxart","system","toLowerCase","id","forEach","index","splice","push","stringify","from","to","temp","setItem","render","indexOf","encodeURI","$app","expandSystem","systemList","map","short","full","join","styleScoped"],"mappings":"0FAAA,IAAAA,GAAe,WACbC,KADa,WAEX,OAAOC,KAAKC,OAAOC,SAErBC,QAAS,CACPC,aADO,WAELC,SAASC,eAAe,kBAAkBC,SAE5CC,mBAJO,SAIYC,GACjB,IAAIC,EAAOL,SAASC,eAAe,kBAAkBK,MAAM,GACvDC,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAAUhB,GACxBO,SAASC,eAAe,oBAAoBS,MAAQjB,EAAEkB,OAAOC,QAE/DL,EAAOM,QAAU,SAAUC,GACzBC,QAAQC,IAAI,UAAWF,IAEzBP,EAAOU,cAAcZ,IAEvBa,SAfO,SAeEd,GAKP,IAJA,IAAIe,EAAQC,KAAKC,MAAMC,aAAaC,QAAQ,UACxCC,EAAc7B,KAAKC,OAAOC,QAAQ4B,KAClCC,EAAY,GACZC,EAAiB3B,SAASC,eAAe,oBAAoB2B,SACxDC,EAAIF,EAAeG,OAAS,EAAQ,GAALD,EAAQA,IACZ,GAA9BF,EAAeE,GAAGE,WACpBL,EAAYC,EAAeE,GAAGnB,OAIlC,IAAIsB,EAAU,CACZC,KAAMjC,SAASC,eAAe,kBAAkBS,MAChDwB,KAAMlC,SAASC,eAAe,kBAAkBS,MAChDyB,OAAQnC,SAASC,eAAe,oBAAoBS,MACpD0B,OAAQV,EAAUW,cAClBC,GAAId,EAAYc,IAGlBnB,EAAMoB,SAAQ,SAACd,EAAMe,GAEnB,IADAf,EAAOL,KAAKC,MAAMI,IACTa,KAAOd,EAAYc,GAAI,CAC9BnB,EAAMsB,OAAOD,EAAO,GACpBrB,EAAMuB,KAAKtB,KAAKuB,UAAUX,IAC1B,IAAIY,EAAOzB,EAAMW,OAAS,EACtBe,EAAKL,EACLM,EAAO3B,EAAMyB,GACjBzB,EAAMyB,GAAQzB,EAAM0B,GACpB1B,EAAM0B,GAAMC,EACZxB,aAAayB,QAAQ,QAAS3B,KAAKuB,UAAUxB,UAKrDmB,GAAI,aACJU,OAtDa,WAsDJ,WACP,MAAM,i6BAAN,QAsB4D,EAAjCrD,KAAK8B,KAAKU,OAAOc,QAAQ,KAAYC,UAAUvD,KAAK8B,KAAKU,QAAUxC,KAAK8B,KAAKU,OAtBxG,qGAuBqBxC,KAAK8B,KAAKQ,KAvB/B,uCAwBoBtC,KAAKwD,KAAKrD,QAAQ2B,KAAK2B,aAAazD,KAAK8B,KAAKW,QAxBlE,6qBAkC0GzC,KAAK8B,KAAKQ,KAlCpH,ihBA2CyGtC,KAAK8B,KAAKS,KA3CnH,2hBAoDgHvC,KAAK8B,KAAKU,OApD1H,s4BAkEgCxC,KAAKwD,KAAKrD,QAAQ2B,KAAK4B,aAAaC,KAAI,SAAAlB,GAAM,oEAC9BA,EAAOmB,MADuB,aACXnB,EAAOmB,MAAMlB,eAAiB,EAAKZ,KAAKW,OAAOC,cAA/C,cADW,YACyED,EAAOoB,KADhF,mDAE9CC,KAAK,IApErC,6PAiFFC,aAAYA","file":"js/10.app.js","sourcesContent":["export default {\n  data() {\n    return this.$route.context;\n  },\n  methods: {\n    uploadBoxart() {\n      document.getElementById('BoxartUploader').click();\n    },\n    handleBoxartUpload(evt) {\n      var file = document.getElementById('BoxartUploader').files[0];\n      var reader = new FileReader();\n      reader.onload = function (e) {\n        document.getElementById('edit_game_boxart').value = e.target.result;\n      };\n      reader.onerror = function (error) {\n        console.log('Error: ', error);\n      };\n      reader.readAsDataURL(file);\n    },\n    saveData(evt) {\n      var games = JSON.parse(localStorage.getItem('games'));\n      var gameToCheck = this.$route.context.game;\n      var newSystem = '';\n      var systemSelector = document.getElementById('edit_game_system').children;\n      for (var i = systemSelector.length - 1; i >= 0; i--) {\n        if (systemSelector[i].selected == true) {\n          newSystem = systemSelector[i].value;\n        }\n        ;\n      }\n      var newData = {\n        name: document.getElementById('edit_game_name').value,\n        link: document.getElementById('edit_game_link').value,\n        boxart: document.getElementById('edit_game_boxart').value,\n        system: newSystem.toLowerCase(),\n        id: gameToCheck.id\n      };\n      var self = this;\n      games.forEach((game, index) => {\n        game = JSON.parse(game);\n        if (game.id === gameToCheck.id) {\n          games.splice(index, 1);\n          games.push(JSON.stringify(newData));\n          var from = games.length - 1;\n          var to = index;\n          var temp = games[from];\n          games[from] = games[to];\n          games[to] = temp;\n          localStorage.setItem('games', JSON.stringify(games));\n        }\n      });\n    }\n  },\n  id: 'd6b93710cb',\n  render() {\n    return `\n   <div class=\"popup\">\n      <div class=\"view\">\n         <div class=\"page\">\n            <div class=\"navbar\">\n               <div class=\"navbar-inner\">\n                  <div class=\"left\">\n                     <!-- Link to close popup -->\n                     <a class=\"link popup-close\">\n                     <i class=\"icon f7-icons ios-only\">close</i>\n                     <i class=\"icon material-icons md-only\">close</i>\n                     </a>\n                  </div>\n                  <div class=\"title\">Edit</div>\n                  <div class=\"right\">\n                     <!-- Link to close popup -->\n                     <a href=\"#\" @click=\"saveData\" class=\"link popup-close\">Save</a>\n                  </div>\n               </div>\n            </div>\n            <div class=\"page-content\">\n               <div class=\"block\" style=\"text-align: center;\">\n                  <img src=\"${ this.game.boxart.indexOf(' ') > -1 ? encodeURI(this.game.boxart) : this.game.boxart }\" style=\"border-radius: 5px; max-height: 256px; max-width: 256px\">\n                  <h1>${ this.game.name }</h1>\n                  <p>${ this.$app.methods.game.expandSystem(this.game.system) }</p>\n               </div>\n               <input style=\"display:none\" type=\"file\" name=\"boxart\" accept=\"image/jpeg, image/png, image/gif\" @change=\"handleBoxartUpload\" id=\"BoxartUploader\">\n               <div class=\"block-title block-title-medium\">Edit Info</div>\n               <div class=\"list\">\n                  <ul>\n                     <li class=\"item-content item-input\">\n                        <div class=\"item-inner\">\n                           <div class=\"item-title item-label\">Name</div>\n                           <div class=\"item-input-wrap\">\n                              <input type=\"text\" id=\"edit_game_name\" placeholder=\"Name\" name=\"name\" value=\"${ this.game.name }\">\n                              <span class=\"input-clear-button\"></span>\n                           </div>\n                        </div>\n                     </li>\n                     <li class=\"item-content item-input\">\n                        <div class=\"item-inner\">\n                           <div class=\"item-title item-label\">Link</div>\n                           <div class=\"item-input-wrap\">\n                              <input type=\"url\" id=\"edit_game_link\" placeholder=\"Link\" name=\"link\" value=\"${ this.game.link }\">\n                              <span class=\"input-clear-button\"></span>\n                           </div>\n                        </div>\n                     </li>\n                     <li class=\"item-content item-input\">\n                        <div class=\"item-inner\">\n                           <div class=\"item-title item-label\">Boxart</div>\n                           <div class=\"item-input-wrap\">\n                              \t<input type=\"url\" id=\"edit_game_boxart\" placeholder=\"Boxart\" name=\"boxart\" value=\"${ this.game.boxart }\">\n                              \t<span class=\"input-clear-button\"></span>\n                            \t<div class=\"item-input-info\">\n                            \t\t<button @click=\"uploadBoxart\" class=\"button button-small\" style=\"text-align: left; margin-right: -16px; padding: 0px;\">Upload Boxart</button>\n                            \t</div>\n                           </div>\n                        </div>\n                     </li>\n                     <li class=\"item-content item-input system-list-item-edit\">\n                        <div class=\"item-inner\">\n                           <div class=\"item-title item-label\">System</div>\n                           <div class=\"item-input-wrap\">\n                              <select name=\"system\" id=\"edit_game_system\">\n                                 <option>Unsupported System</option>\n                                 ${ this.$app.methods.game.systemList().map(system => `\n                                 \t<option value=\"${ system.short }\" ${ system.short.toLowerCase() == this.game.system.toLowerCase() ? `selected` : `` }>${ system.full }</option>\n                                 `).join('') }\n                              </select>\n                           </div>\n                        </div>\n                     </li>\n                  </ul>\n               </div>\n            </div>\n         </div>\n      </div>\n   </div>\n`;\n  },\n  styleScoped: false\n};"],"sourceRoot":""}