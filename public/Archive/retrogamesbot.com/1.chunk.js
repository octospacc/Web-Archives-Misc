(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{25:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n(4),r=n(9);class o{constructor(t,e,n,i){this._name=t,this._size=e,this._path=n,this._archiveRef=i}get name(){return this._name}get size(){return this._size}extract(){return this._archiveRef.extractSingleFile(this._path)}}class s{static init(t={}){return s._options={workerUrl:"../dist/worker-bundle.js",...t},s._options}static open(t,e=null){e=e||s._options||s.init()&&console.warn("Automatically initializing using options: ",s._options);return new s(t,e).open()}constructor(t,e){this._worker=n(48)(),this._worker.addEventListener("message",this._workerMsg.bind(this)),this._callbacks=[],this._content={},this._processed=0,this._file=t}async open(){return await this._postMessage({type:"HELLO"},(t,e,n)=>{"READY"===n.type&&t()}),await this._postMessage({type:"OPEN",file:this._file},(t,e,n)=>{"OPENED"===n.type&&t(this)})}close(){this._worker.terminate(),this._worker=null}hasEncryptedData(){return this._postMessage({type:"CHECK_ENCRYPTION"},(t,e,n)=>{"ENCRYPTION_STATUS"===n.type&&t(n.status)})}usePassword(t){return this._postMessage({type:"SET_PASSPHRASE",passphrase:t},(t,e,n)=>{"PASSPHRASE_STATUS"===n.type&&t(n.status)})}getFilesObject(){return this._processed>0?Promise.resolve().then(()=>this._content):this._postMessage({type:"LIST_FILES"},(t,e,n)=>{if("ENTRY"===n.type){const t=n.entry,[e,i]=this._getProp(this._content,t.path);return"FILE"===t.type&&(e[i]=new o(t.fileName,t.size,t.path,this)),!0}"END"===n.type&&(this._processed=1,t(this._cloneContent(this._content)))})}getFilesArray(){return this.getFilesObject().then(t=>this._objectToArray(t))}extractSingleFile(t){if(null===this._worker)throw new Error("Archive already closed");return this._postMessage({type:"EXTRACT_SINGLE_FILE",target:t},(t,e,n)=>{if("FILE"===n.type){t(new File([n.entry.fileData],n.entry.fileName,{type:"application/octet-stream"}))}})}extractFiles(t){return this._processed>1?Promise.resolve().then(()=>this._content):this._postMessage({type:"EXTRACT_FILES"},(e,n,i)=>{if("ENTRY"===i.type){const[e,n]=this._getProp(this._content,i.entry.path);return"FILE"===i.entry.type&&(e[n]=new File([i.entry.fileData],i.entry.fileName,{type:"application/octet-stream"}),void 0!==t&&setTimeout(t.bind(null,{file:e[n],path:i.entry.path}))),!0}"END"===i.type&&(this._processed=2,this._worker.terminate(),e(this._cloneContent(this._content)))})}_cloneContent(t){if(t instanceof File||t instanceof o||null===t)return t;const e={};for(const n of Object.keys(t))e[n]=this._cloneContent(t[n]);return e}_objectToArray(t,e=""){const n=[];for(const i of Object.keys(t))t[i]instanceof File||t[i]instanceof o||null===t[i]?n.push({file:t[i]||i,path:e}):n.push(...this._objectToArray(t[i],`${e}${i}/`));return n}_getProp(t,e){const n=e.split("/");""===n[n.length-1]&&n.pop();let i=t,r=null;for(const t of n)i[t]=i[t]||{},r=i,i=i[t];return[r,n[n.length-1]]}_postMessage(t,e){return this._worker.postMessage(t),new Promise((t,n)=>{this._callbacks.push(this._msgHandler.bind(this,e,t,n))})}_msgHandler(t,e,n,i){if("BUSY"===i.type)n("worker is busy");else{if("ERROR"!==i.type)return t(e,n,i);n(i.error)}}_workerMsg({data:t}){(0,this._callbacks[this._callbacks.length-1])(t)||this._callbacks.pop()}}var a=[],h=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))},d=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};s.init();var c={smc:"snes",sfc:"snes",bin:"genesis",smd:"genesis",a26:"stella"};function u(t){return h(this,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return[4,Object(i.request)({url:t,method:"GET",responseType:"blob"})];case 1:return[2,l(e.sent())]}}))}))}function l(t){return h(this,void 0,void 0,(function(){var e,n,i,r,o,a;return d(this,(function(h){switch(h.label){case 0:return[4,s.open(t)];case 1:return[4,(e=h.sent()).extractFiles()];case 2:for(o in n=h.sent())if(n[o]instanceof File){i=n[o],r=o;break}return e.close(),a={name:r},[4,p(i)];case 3:return[2,(a.data=h.sent(),a)]}}))}))}function p(t){return new Promise((function(e,n){var i=new FileReader;i.onload=function(){return e(i.result)},i.onerror=n,i.readAsArrayBuffer(t)}))}function w(t){for(var e,n=t.length-1;n>0;n--){var i=Math.floor(Math.random()*(n+1));e=[t[i],t[n]],t[n]=e[0],t[i]=e[1]}}var f=new(function(){function t(){}return t.prototype.getROM=function(t){var e;return h(this,void 0,void 0,(function(){var n;return d(this,(function(r){switch(r.label){case 0:return this._token===t&&this._rom?[2,this._rom]:(this._token=t,n=this,[4,Object(i.request)({method:"GET",url:"https://europe-west3-retro-games-257212.cloudfunctions.net/session/"+t})]);case 1:if(n._rom=r.sent(),!(null===(e=this._rom)||void 0===e?void 0:e.url))throw new Error("invalid token");return[2,this.loadRom(this._rom)]}}))}))},t.prototype.loadRom=function(t){return h(this,void 0,void 0,(function(){var e,n;return d(this,(function(i){switch(i.label){case 0:return e=this,[4,u(t.url)];case 1:return e._rom=i.sent(),this._rom.platform=t.platform,Object(r.f)(this._rom.platform)&&(n=Object(r.d)(this._rom.name),this._rom.platform=c[n]||n),this._rom.platform=this._rom.platform.toLowerCase(),[2,this._rom]}}))}))},t.prototype.loadSearchRom=function(t){return h(this,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return this._token="local",[4,this.loadRom(t)];case 1:return e.sent(),[2]}}))}))},t.prototype.loadLocalFile=function(t){return h(this,void 0,void 0,(function(){var e,n,i,o,s;return d(this,(function(a){switch(a.label){case 0:return e=t.name.split(".")[0],"zip"!==(n=Object(r.d)(t.name))&&"7z"!==n&&"rar"!==n?[3,2]:(i=this,[4,l(t)]);case 1:return i._rom=a.sent(),n=Object(r.d)(this._rom.name),[3,4];case 2:return o=this,s={name:e},[4,p(t)];case 3:o._rom=(s.data=a.sent(),s),a.label=4;case 4:return this._rom.platform=c[n]||n,this._token="local",[2]}}))}))},t.prototype.getPopularRequests=function(){return h(this,void 0,void 0,(function(){return d(this,(function(t){return w(a),[2,a.slice(0,10)]}))}))},t.prototype.getRandomRequest=function(){return h(this,void 0,void 0,(function(){return d(this,(function(t){return w(a),[2,a[0]]}))}))},t}())},27:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(4),r=function(){function t(){var t=this;this._aspect=4/3,this._resizeHandler=function(){return setTimeout(t.resizeHandler.bind(t),100)}}return t.prototype.oncreate=function(t){var e=this;this._canvas=t.dom,this._canvas.style.position="absolute",this._canvas.style.maxWidth="100%",this._canvas.style.maxHeight="100%",this._canvas.addEventListener("resize",this._resizeHandler),window.addEventListener("resize",this._resizeHandler),document.addEventListener("fullscreenchange",this._resizeHandler),document.addEventListener("visibilitychange",(function(){document.hidden||e._resizeHandler()})),this.resizeHandler()},t.prototype.resizeHandler=function(){this._canvas.style.top="0";var t=window.innerWidth,e=window.innerHeight;e>t?(e=Math.floor(t/this._aspect),this._canvas.style.width=this._canvas.style.maxWidth=t+"px",this._canvas.style.height=this._canvas.style.maxHeight=e+"px",this._canvas.style.left="0",this._canvas.height>this._canvas.width?this._canvas.style.transform="scaleY("+this._canvas.height/e+")":this._canvas.style.transform="none"):(t=Math.floor(e*this._aspect),this._canvas.style.width=this._canvas.style.maxWidth=t+"px",this._canvas.style.height=this._canvas.style.maxHeight=e+"px",this._canvas.style.left=Math.floor(.5*(window.innerWidth-t))+"px",this._aspect!==this._canvas.width/this._canvas.height?this._canvas.style.transform="scaleX("+this._canvas.width/t+")":this._canvas.style.transform="none")},t.prototype.onremove=function(t){this._canvas.removeEventListener("resize",this._resizeHandler),window.removeEventListener("resize",this._resizeHandler),document.removeEventListener("fullscreenchange",this._resizeHandler)},t.prototype.view=function(t){return i("canvas#canvas",{width:800,height:600,oncontextmenu:function(t){return t.preventDefault()}})},t}()},32:function(t,e,n){"use strict";n.d(e,"a",(function(){return R}));var i,r=n(4),o=n.n(r),s=n(286),a=n(65),h=n(9),d=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){var n=t.call(this,a.b.shared.resources[e.texture].texture)||this;return n._options=e,n.interactive=!0,n.on("touchstart",n.downHandler.bind(n)),n.on("touchmove",n.moveHandler.bind(n)),n.on("touchend",n.upHandler.bind(n)),n.on("touchendoutside",n.upHandler.bind(n)),window.addEventListener("resize",n.resizeHandler.bind(n)),n.alpha=.5,n.resizeHandler(),n}return d(e,t),e.prototype.resizeHandler=function(){var t=window.innerWidth,e=window.innerHeight,n=e>t?this._options.portrait:this._options.landscape;n.width&&(this.width=this._w=t*n.width,n.height||(this.scale.y=this.scale.x)),n.height&&(this.height=this._h=e*n.height,n.width||(this.scale.x=this.scale.y)),null!=n.x&&("function"==typeof n.x?this.x=n.x(this):this.x=t*n.x),null!=n.y&&("function"==typeof n.y?this.y=n.y(this):this.y=e*n.y)},e.prototype.downHandler=function(t){null==this._isDown&&(this._isDown=t.data.pointerId,this.alpha=.9,Object(h.h)("keydown",this._options.keyCode))},e.prototype.upHandler=function(t){null!=this._isDown&&this._isDown===t.data.pointerId&&(this._isDown=void 0,this.alpha=.5,Object(h.h)("keyup",this._options.keyCode))},e.prototype.moveHandler=function(t){this.containsPoint(t.data.global)?this.downHandler(t):this.upHandler(t)},e}(a.c),u={ARROW_UP:{code:"ArrowUp",which:38},ARROW_DOWN:{code:"ArrowDown",which:40},ARROW_LEFT:{code:"ArrowLeft",which:37},ARROW_RIGHT:{code:"ArrowRight",which:39},ENTER:{code:"Enter",which:13},SHIFT:{code:"ShiftLeft",key:"Shift",which:16},A:{code:"KeyA",key:"a",which:65},S:{code:"KeyS",key:"s",which:83},Z:{code:"KeyZ",key:"z",which:90},Q:{code:"KeyQ",key:"q",which:81},W:{code:"KeyW",key:"w",which:87},X:{code:"KeyX",key:"x",which:88},F2:{code:"F2",key:"F2",which:113},F4:{code:"F4",key:"F4",which:115},G:{code:"KeyG",key:"g",which:71},F:{code:"KeyF",key:"f",which:70},C:{code:"KeyC",key:"c",which:67},D:{code:"KeyD",key:"d",which:68},V:{code:"KeyV",key:"v",which:86}},l=n(169),p=n.n(l),w=function(){function t(){this._active=[],this._element=document.createElement("div"),this._element.id="joystick",this._element.style.position="absolute",this._element.style.top="0",this._element.style.left="0",this._element.style.width="50%",this._element.style.height="100%",document.body.appendChild(this._element),this._manager=p.a.create({zone:this._element}),this._manager.on("move",this.moveHandler.bind(this)),this._manager.on("end",this.endHandler.bind(this))}return t.prototype.moveHandler=function(t,e){e.distance<20?this.endHandler():(Math.abs(180-e.angle.degree)<60?this.down(u.ARROW_LEFT):this.up(u.ARROW_LEFT),Math.abs(90-e.angle.degree)<60?this.down(u.ARROW_UP):this.up(u.ARROW_UP),e.angle.degree<60||e.angle.degree>300?this.down(u.ARROW_RIGHT):this.up(u.ARROW_RIGHT),Math.abs(270-e.angle.degree)<60?this.down(u.ARROW_DOWN):this.up(u.ARROW_DOWN))},t.prototype.down=function(t){this._active.includes(t)||(this._active.push(t),Object(h.h)("keydown",t))},t.prototype.up=function(t){var e=this._active.indexOf(t);-1!==e&&(this._active.splice(e,1),Object(h.h)("keyup",t))},t.prototype.endHandler=function(){this._active.forEach((function(t){return Object(h.h)("keyup",t)})),this._active=[]},t}(),f=n(93),y=n.n(f);function g(){return o()("div",{class:y.a.groupMenu},o()("div",{class:y.a.menu,onclick:this.menuButtonHandler.bind(this),style:{width:this.style.buttonWidth+"px",height:this.style.buttonWidth+"px",left:this.style.x+"px"}}),this.visible&&o()("div",{class:y.a.dropdown,style:{top:this.style.buttonWidth+"px"},onclick:this.buttonSaveHandler.bind(this)},o()("div",{class:y.a.item},"Save"),o()("div",{class:y.a.item,onclick:this.buttonLoadHandler.bind(this)},"Load"),this.fullScreenEnabled&&o()("div",{class:y.a.item,onclick:this.buttonToggleFullScreenHandler.bind(this)},"Toggle Fullscreen")))}var _=n(33),v=function(){function t(){var t=this;this.fullScreenEnabled=_.enabled,this.style={buttonWidth:10,x:0},this._windowResizeHandler=this.windowResizeHandler.bind(this),this._clickHandler=function(){window.removeEventListener("click",t._clickHandler),t.visible=!1}}return t.prototype.oninit=function(){window.addEventListener("resize",this._windowResizeHandler),requestAnimationFrame(this._windowResizeHandler)},t.prototype.oncreate=function(t){this._load=t.attrs.load,this._save=t.attrs.save},t.prototype.onremove=function(){window.removeEventListener("resize",this._windowResizeHandler)},t.prototype.menuButtonHandler=function(t){var e=this;t.stopImmediatePropagation(),this.visible=!this.visible,this.visible?setTimeout((function(){return window.addEventListener("click",e._clickHandler)}),100):window.removeEventListener("click",this._clickHandler)},t.prototype.view=function(){return g.call(this)},t.prototype.buttonSaveHandler=function(t){t.stopImmediatePropagation(),this._save(),this.visible=!1},t.prototype.buttonLoadHandler=function(t){t.stopImmediatePropagation(),this._load(),this.visible=!1},t.prototype.buttonToggleFullScreenHandler=function(t){t.stopImmediatePropagation(),this.visible=!1,_.enabled&&_.toggle()},t.prototype.windowResizeHandler=function(){var t;t=window.innerHeight>window.innerWidth?window.innerWidth:window.innerHeight,this.style.buttonWidth=.1*t,this.style.x=.5*(window.innerWidth-this.style.buttonWidth),this.visible=!1,o.a.redraw()},t}(),m={0:u.Z,1:u.X,2:u.A,3:u.S,8:u.SHIFT,9:u.ENTER,12:u.ARROW_UP,13:u.ARROW_DOWN,14:u.ARROW_LEFT,15:u.ARROW_RIGHT,axes:{0:{1:u.ARROW_RIGHT,"-1":u.ARROW_LEFT},1:{1:u.ARROW_DOWN,"-1":u.ARROW_UP}}},b={0:u.Z,1:u.X,3:u.A,4:u.S,11:u.ENTER,10:u.SHIFT,axes:{0:{1:u.ARROW_RIGHT,"-1":u.ARROW_LEFT},1:{1:u.ARROW_DOWN,"-1":u.ARROW_UP}}},x=function(){function t(){this._loop=this.loop.bind(this),this._threshold=.3,this._events={buttons:[],axes:[]},this._mapping={},this.resume()}return t.prototype.resume=function(){cancelAnimationFrame(this._requestAnimationHandle),this._requestAnimationHandle=requestAnimationFrame(this._loop)},t.prototype.loop=function(){if(t.supported){for(var e=navigator.getGamepads(),n=0;n<4;n++){var i=e[n];i?(this._events.buttons[n]||(this.handleGamepadConnect(i,n),this._events.buttons[n]={},this._events.axes[n]={}),this.handleGamepadEventListener(i),this.handleGamepadAxisEventListener(i)):this._events.buttons[n]&&(this.handleGamepadDisconnect(i,n),delete this._events.buttons[n],delete this._events.axes[n])}this._requestAnimationHandle=requestAnimationFrame(this._loop)}else this._requestAnimationHandle=requestAnimationFrame(this._loop)},t.prototype.handleGamepadConnect=function(t,e){t.id.includes("1949")?this._mapping[e]=b:this._mapping[e]=m},t.prototype.handleGamepadDisconnect=function(t,e){delete this._mapping[e]},t.prototype.handleGamepadAxisEventListener=function(t){var e=this;(null==t?void 0:t.connected)&&t.axes.forEach((function(n,i){var r=e._events.axes[t.index][i];if(Math.abs(n)>e._threshold)r!==n&&(e._events.axes[t.index][i]=n,(o=e.getAxesKeyCode(t,i,n))&&Object(h.h)("keydown",o));else if(r){var o;delete e._events.axes[t.index][i],(o=e.getAxesKeyCode(t,i,r))&&Object(h.h)("keyup",o)}}))},t.prototype.getAxesKeyCode=function(t,e,n){var i=this._mapping[t.index].axes[e];if(i)return n>this._threshold?i[1]:n<-this._threshold?i[-1]:void 0},t.prototype.handleGamepadEventListener=function(t){var e=this;(null==t?void 0:t.connected)&&t.buttons.forEach((function(n,i){var r=e._events.buttons[t.index][i];if(n.pressed)r||(e._events.buttons[t.index][i]=!0,(o=e._mapping[t.index][i])&&Object(h.h)("keydown",o));else if(r){var o;delete e._events.buttons[t.index][i],(o=e._mapping[t.index][i])&&Object(h.h)("keyup",o)}}))},Object.defineProperty(t,"supported",{get:function(){return!!navigator.getGamepads},enumerable:!1,configurable:!0}),t}(),H=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))},k=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},R=function(){function t(){this._hwGamepad=new x}return t.prototype.initAdapter=function(t){this._adapter=t,this._adapter.startCallback=this.showTour.bind(this)},t.prototype.oninit=function(t){this._platform=t.attrs.platform||"nes",s.b.shared.add("assets/images/gamepad/a.png").add("assets/images/gamepad/b.png").add("assets/images/gamepad/c.png").add("assets/images/gamepad/x.png").add("assets/images/gamepad/y.png").add("assets/images/gamepad/z.png").add("assets/images/gamepad/l.png").add("assets/images/gamepad/r.png").add("assets/images/gamepad/start.png").load(this.loadHandler.bind(this))},t.prototype.loadHandler=function(){this._app=new s.a({width:window.innerWidth,height:window.innerHeight,transparent:!0}),this._app.view.style.position="absolute",this._app.view.style.top="0",this._app.view.style.left="0",this._app.view.style.touchAction="none",document.body.appendChild(this._app.view);for(var t=0,e=(E[this._platform]||E.nes).buttons;t<e.length;t++){var n=e[t];n.texture="assets/images/gamepad/"+n.texture+".png";var i=new c(n);this._app.stage.addChild(i)}this._joystick=new w,window.addEventListener("resize",this.resizeHandler.bind(this)),window.addEventListener("touchstart",this.activeHandler.bind(this)),window.addEventListener("mousedown",this.activeHandler.bind(this)),this.activeHandler()},t.prototype.showTour=function(){return H(this,void 0,void 0,(function(){var t,e;return k(this,(function(i){switch(i.label){case 0:return localStorage.getItem("tour.passed")?[2]:(localStorage.setItem("tour.passed","true"),[4,n.e(21).then(n.t.bind(null,300,7))]);case 1:return t=i.sent(),(e=new t.default({maskColor:"rgba(0, 0, 0, 0.7)",padding:5})).queue([{el:"."+y.a.menu,slot:"Use menu button to save/load game state and toggle fullscreen (if available) during the game",options:{slotPosition:"bottom",layerEvent:e.next.bind(e)}},{el:"#joystick",slot:"Put your finger on left side of the screen to activate the joystick",options:{slotPosition:"right"}}]).run(),[2]}}))}))},t.prototype.activeHandler=function(){this.show(),clearTimeout(this._timerHide),this._timerHide=window.setTimeout(this.hide.bind(this),1e4)},t.prototype.hide=function(){this._app.stage.alpha=0,o.a.redraw()},t.prototype.show=function(){this._app.stage.alpha=1,o.a.redraw()},t.prototype.resizeHandler=function(){this._app.renderer.resize(window.innerWidth,window.innerHeight)},t.prototype.loadStateHandler=function(){var t;null===(t=this._adapter)||void 0===t||t.load()},t.prototype.saveStateHandler=function(){var t;null===(t=this._adapter)||void 0===t||t.save()},t.prototype.view=function(){var t;return(null===(t=this._app)||void 0===t?void 0:t.stage.alpha)>0&&o()(v,{save:this.saveStateHandler.bind(this),load:this.loadStateHandler.bind(this)})},t}(),E={nes:{buttons:[{texture:"b",portrait:{width:.2,x:.6,y:function(t){return.98*window.innerHeight-t.height}},landscape:{width:.1,x:.78,y:function(t){return.98*window.innerHeight-t.height}},keyCode:u.Z},{texture:"a",portrait:{width:.2,x:.8,y:function(t){return.98*window.innerHeight-t.height}},landscape:{width:.1,x:.89,y:function(t){return.98*window.innerHeight-t.height}},keyCode:u.X},{texture:"start",portrait:{width:.15,x:.82,y:function(t){return.9*window.innerHeight-.2*window.innerWidth-t.height}},landscape:{width:.08,x:.9,y:function(t){return.9*window.innerHeight-.1*window.innerWidth-t.height}},keyCode:u.ENTER},{texture:"start",portrait:{width:.15,x:.62,y:function(t){return.9*window.innerHeight-.2*window.innerWidth-t.height}},landscape:{width:.08,x:.79,y:function(t){return.9*window.innerHeight-.1*window.innerWidth-t.height}},keyCode:u.SHIFT}]},snes:{buttons:[{texture:"b",keyCode:u.Z,portrait:{width:.2,x:.65,y:function(t){return.98*window.innerHeight-t.height}},landscape:{width:.1,x:.82,y:function(t){return.98*window.innerHeight-t.height}}},{texture:"a",keyCode:u.X,portrait:{width:.2,x:.8,y:function(t){return.98*window.innerHeight-1.8*t.height}},landscape:{width:.1,x:.9,y:function(t){return.98*window.innerHeight-1.8*t.height}}},{texture:"y",keyCode:u.A,portrait:{width:.2,x:.5,y:function(t){return.98*window.innerHeight-1.8*t.height}},landscape:{width:.1,x:.74,y:function(t){return.98*window.innerHeight-1.8*t.height}}},{texture:"x",keyCode:u.S,portrait:{width:.2,x:.65,y:function(t){return.98*window.innerHeight-2.6*t.height}},landscape:{width:.1,x:.82,y:function(t){return.98*window.innerHeight-2.6*t.height}}},{texture:"start",keyCode:u.ENTER,portrait:{width:.15,x:.82,y:function(t){return.9*window.innerHeight-.45*window.innerWidth}},landscape:{width:.08,x:.7,y:function(t){return.98*window.innerHeight-t.height}}},{texture:"start",keyCode:u.SHIFT,portrait:{width:.15,x:.62,y:function(t){return.9*window.innerHeight-.45*window.innerWidth}},landscape:{width:.08,x:.6,y:function(t){return.98*window.innerHeight-t.height}}}]},gba:{buttons:[{texture:"b",portrait:{width:.2,x:.65,y:function(t){return.98*window.innerHeight-t.height}},landscape:{width:.1,x:.82,y:function(t){return.98*window.innerHeight-t.height}},keyCode:u.Z},{texture:"a",keyCode:u.X,portrait:{width:.2,x:.8,y:function(t){return.98*window.innerHeight-1.8*t.height}},landscape:{width:.1,x:.9,y:function(t){return.98*window.innerHeight-1.8*t.height}}},{texture:"l",keyCode:u.Q,portrait:{width:.2,x:.5,y:function(t){return.98*window.innerHeight-1.8*t.height}},landscape:{width:.1,x:.74,y:function(t){return.98*window.innerHeight-1.8*t.height}}},{texture:"r",portrait:{width:.2,x:.65,y:function(t){return.98*window.innerHeight-2.6*t.height}},landscape:{width:.1,x:.82,y:function(t){return.98*window.innerHeight-2.6*t.height}},keyCode:u.W},{texture:"start",portrait:{width:.15,x:.82,y:function(t){return.9*window.innerHeight-.45*window.innerWidth}},landscape:{width:.08,x:.7,y:function(t){return.98*window.innerHeight-t.height}},keyCode:u.ENTER},{texture:"start",portrait:{width:.15,x:.62,y:function(t){return.9*window.innerHeight-.45*window.innerWidth}},landscape:{width:.08,x:.6,y:function(t){return.98*window.innerHeight-t.height}},keyCode:u.SHIFT}]},genesis:{buttons:[{texture:"a",keyCode:u.A,portrait:{width:.17,x:.5,y:function(t){return.99*window.innerHeight-t.height}},landscape:{width:.1,x:.68,y:function(t){return.99*window.innerHeight-t.height}}},{texture:"b",keyCode:u.Z,portrait:{width:.17,x:.66,y:function(t){return.99*window.innerHeight-1.5*t.height}},landscape:{width:.1,x:.78,y:function(t){return.99*window.innerHeight-1.5*t.height}}},{texture:"c",keyCode:u.X,portrait:{width:.17,x:.82,y:function(t){return.99*window.innerHeight-2*t.height}},landscape:{width:.1,x:.88,y:function(t){return.99*window.innerHeight-2*t.height}}},{texture:"x",keyCode:u.Q,portrait:{width:.17,x:.5,y:function(t){return.99*window.innerHeight-2*t.height}},landscape:{width:.1,x:.68,y:function(t){return.99*window.innerHeight-2*t.height}}},{texture:"y",keyCode:u.S,portrait:{width:.17,x:.66,y:function(t){return.99*window.innerHeight-2.5*t.height}},landscape:{width:.1,x:.78,y:function(t){return.99*window.innerHeight-2.5*t.height}}},{texture:"z",keyCode:u.W,portrait:{width:.17,x:.82,y:function(t){return.99*window.innerHeight-3*t.height}},landscape:{width:.1,x:.88,y:function(t){return.99*window.innerHeight-3*t.height}}},{texture:"start",keyCode:u.ENTER,portrait:{width:.17,x:.65,y:function(t){return.99*window.innerHeight-8*t.height}},landscape:{width:.1,x:.5,y:function(t){return.99*window.innerHeight-t.height}}}]},psx:{buttons:[{texture:"b",keyCode:u.Z,portrait:{width:.2,x:.65,y:function(t){return.98*window.innerHeight-t.height}},landscape:{width:.1,x:.82,y:function(t){return.98*window.innerHeight-t.height}}},{texture:"a",keyCode:u.X,portrait:{width:.2,x:.8,y:function(t){return.98*window.innerHeight-1.8*t.height}},landscape:{width:.1,x:.9,y:function(t){return.98*window.innerHeight-1.8*t.height}}},{texture:"y",keyCode:u.A,portrait:{width:.2,x:.5,y:function(t){return.98*window.innerHeight-1.8*t.height}},landscape:{width:.1,x:.74,y:function(t){return.98*window.innerHeight-1.8*t.height}}},{texture:"x",keyCode:u.S,portrait:{width:.2,x:.65,y:function(t){return.98*window.innerHeight-2.6*t.height}},landscape:{width:.1,x:.82,y:function(t){return.98*window.innerHeight-2.6*t.height}}},{texture:"start",keyCode:u.V,portrait:{width:.15,x:.82,y:function(t){return.9*window.innerHeight-.45*window.innerWidth}},landscape:{width:.08,x:.7,y:function(t){return.98*window.innerHeight-t.height}}},{texture:"start",keyCode:u.C,portrait:{width:.15,x:.62,y:function(t){return.9*window.innerHeight-.45*window.innerWidth}},landscape:{width:.08,x:.6,y:function(t){return.98*window.innerHeight-t.height}}}]}}},48:function(t,e,n){t.exports=function(){return new Worker(n.p+"52f0f27e6712ae78b884.worker.js")}},93:function(t,e,n){t.exports={groupMenu:"_6ghX1",menu:"_143XO",dropdown:"_13bVG",item:"_2Mq6t"}}}]);